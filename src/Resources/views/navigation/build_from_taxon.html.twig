{% extends '@SyliusAdmin/layout.html.twig' %}

{% import '@SyliusAdmin/Macro/breadcrumb.html.twig' as breadcrumb %}
{% import '@SyliusUi/Macro/headers.html.twig' as headers %}

{% set updateUrl = path('setono_sylius_navigation_admin_navigation_update', { 'id': navigation.id }) %}

{% set breadcrumbs = [
    { label: 'sylius.ui.administration'|trans, url: path('sylius_admin_dashboard') },
    { label: 'setono_sylius_navigation.ui.navigations'|trans, url: path('setono_sylius_navigation_admin_navigation_index') },
    { label: navigation.code, url: updateUrl },
    { label: 'setono_sylius_navigation.ui.build_from_taxon'|trans }
]
%}

{% form_theme form '@SyliusAdmin/Form/theme.html.twig' %}

{% block title %}{{ 'setono_sylius_navigation.ui.build_from_taxon'|trans }} {{ parent() }}{% endblock %}

{% block content %}
    <div class="ui stackable two column grid">
        <div class="column">
            {{ headers.default('setono_sylius_navigation.ui.build_from_taxon'|trans, 'wrench') }}
            {{ breadcrumb.crumble(breadcrumbs) }}
        </div>
    </div>

    <div class="ui segment">
        <div class="ui stackable two column grid">
            <div class="column">
                {{ form_start(form, { 'attr': { 'class': 'ui form' } }) }}
                    {{ form_row(form.taxon) }}
                    {{ form_row(form.includeRoot) }}
                    {{ form_row(form.maxDepth) }}

                    {% if hasItems %}
                        <div class="ui info message">
                            <div class="header">Navigation already built</div>
                            Please notice that this navigation has already been built and if you build it again, the existing navigation will be overwritten.
                        </div>
                    {% endif %}

                    <div class="ui hidden divider"></div>
                    <div class="ui buttons">
                        <button class="ui labeled icon primary button" type="submit"><i class="wrench icon"></i>{{- 'setono_sylius_navigation.ui.build_from_taxon'|trans -}}</button>
                        {% include '@SyliusUi/Form/Buttons/_cancel.html.twig' with {'path': sylius_generate_redirect_path(updateUrl)} %}
                    </div>
                {{ form_end(form) }}
            </div>
            <div class="column">
                <h4 class="ui large header">{{ 'setono_sylius_navigation.ui.build_from_taxon'|trans }}</h4>
                <p>{{ 'setono_sylius_navigation.ui.help.build_from_taxon.description'|trans }}</p>
                <p>{{ 'setono_sylius_navigation.ui.help.build_from_taxon.options'|trans }}</p>
                <ul>
                    <li><strong>{{ 'setono_sylius_navigation.form.build_from_taxon.include_root'|trans }}:</strong> {{ 'setono_sylius_navigation.ui.help.build_from_taxon.include_root'|trans }}</li>
                    <li><strong>{{ 'setono_sylius_navigation.form.build_from_taxon.max_depth'|trans }}:</strong> {{ 'setono_sylius_navigation.ui.help.build_from_taxon.max_depth'|trans }}</li>
                </ul>
            </div>
        </div>
    </div>
{% endblock %}
